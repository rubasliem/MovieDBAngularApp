<div class="w-50 mx-auto my-5 py-3">

    <div *ngIf="errorMessage" class="alert alert-danger text-center">
      {{ errorMessage }} 
    </div>

  <form (ngSubmit)="submitRegisterForm(registerForm)" [formGroup]="registerForm">

    <!-- First Name -->
    <label for="firstName" class="form-label">First Name</label>
    <input type="text" id="firstName" class="form-control mb-3" formControlName="firstName" />
    <div *ngIf="registerForm.get('firstName')?.touched && registerForm.get('firstName')?.invalid" class="text-danger">
      <p *ngIf="registerForm.get('firstName')?.getError('required')">First Name is required</p>
      <p *ngIf="registerForm.get('firstName')?.getError('minlength')">Minimum length is 3 characters</p>
      <p *ngIf="registerForm.get('firstName')?.getError('maxlength')">Maximum length is 10 characters</p>
    </div>

    <!-- Last Name -->
    <label for="lastName" class="form-label">Last Name</label>
    <input type="text" id="lastName" class="form-control mb-3" formControlName="lastName" />
    <div *ngIf="registerForm.get('lastName')?.touched && registerForm.get('lastName')?.invalid" class="text-danger">
      <p *ngIf="registerForm.get('lastName')?.getError('required')">Last Name is required</p>
      <p *ngIf="registerForm.get('lastName')?.getError('minlength')">Minimum length is 3 characters</p>
      <p *ngIf="registerForm.get('lastName')?.getError('maxlength')">Maximum length is 10 characters</p>
    </div>

    <!-- Age -->
    <label for="age" class="form-label">Age</label>
    <input type="text" id="age" class="form-control mb-3" formControlName="age" />
    <div *ngIf="registerForm.get('age')?.touched && registerForm.get('age')?.invalid" class="text-danger">
      <p *ngIf="registerForm.get('age')?.getError('required')">Age is required</p>
      <p *ngIf="registerForm.get('age')?.getError('min')">Minimum age is 16</p>
      <p *ngIf="registerForm.get('age')?.getError('max')">Maximum age is 80</p>
    </div>

    <!-- Email -->
    <label for="email" class="form-label">Email</label>
    <input type="email" id="email" class="form-control mb-3" formControlName="email" />
    <div *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid" class="text-danger">
      <p *ngIf="registerForm.get('email')?.getError('required')">Email is required</p>
      <p *ngIf="registerForm.get('email')?.getError('email')">Must be a valid email</p>
    </div>

    <!-- Password -->
    <label for="password" class="form-label">Password</label>
    <input type="password" id="password" class="form-control mb-3" formControlName="password" />
    <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid" class="text-danger">
      <p *ngIf="registerForm.get('password')?.getError('required')">Password is required</p>
      <p *ngIf="registerForm.get('password')?.getError('pattern')">
        Password must start with a capital letter and include 5â€“10 lowercase letters or numbers.
      </p>
    </div>

    <button 
    type="submit" 
    class="btn btn-info my-5 d-block mx-auto w-25 fw-bold" 
    [disabled]="registerForm.invalid">
    <span *ngIf="!isLoading">Register</span>
    <i *ngIf="isLoading" class="fas fa-spinner fa-spin"></i>
    </button>

  </form>
</div>
